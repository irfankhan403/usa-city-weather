(this["webpackJsonpweather-report"]=this["webpackJsonpweather-report"]||[]).push([[0],{54:function(e,t,a){e.exports=a(84)},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),o=a(19),l=a(14),s=a(43),u={baseURL:""},m=a.n(s).a.create({baseURL:u.baseURL}),p=function(e){return m.get("/api/city?q=".concat(e)).then((function(e){var t=e.data;return Promise.resolve(t)}))},f=function(e){return m.get("/api/weather-report/".concat(e)).then((function(e){var t=e.data;return Promise.resolve(t)}))},d=a(112),h=a(113),E=a(25),g=a(85),b=a(116),y=a(114),O=a(115),v=a(47),j=a.n(v),w=a(108),C=a(106),x=a(118),N=a(107),W=function e(t,a,n){return(t=t[(a=Array.isArray(a)?a:a.split("."))[0]])&&a.length>1?e(t,a.slice(1),n):void 0===t?n:t},I=function(e){var t=L(),a=Object(l.c)((function(e){return W(e,"weatherData.cities",[])})),c=e.onClick;return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{className:t.listWrapper,id:"list-wrapper"},r.a.createElement(C.a,{className:t.root},a.length>0?a.map((function(e){return r.a.createElement(x.a,{key:e._id,button:!0,className:t.listItem,onClick:function(){return c(e)}},r.a.createElement(N.a,{primary:"".concat(e.city,", ").concat(e.state),secondary:e.zipcode}))})):r.a.createElement(x.a,{className:t.listItem},r.a.createElement(N.a,{primary:"No city found"})))))},L=Object(w.a)({root:{width:"100%",zIndex:9},listItem:{},listWrapper:{position:"absolute",top:"55px",maxHeight:"400px",overflow:"auto",width:"100%"}}),R=a(110),T=a(117),A=a(109),D=a(111),S=function(e){var t=k(),a=Object(l.c)((function(e){return W(e,"weatherData.weatherReport",null)}));return Object(l.c)((function(e){return W(e,"weatherData.loading",null)}))?r.a.createElement(A.a,null):r.a.createElement(n.Fragment,null,a?r.a.createElement(R.a,{className:t.root},r.a.createElement(D.a,null,r.a.createElement(E.a,{variant:"h5",component:"h2"},a.city),r.a.createElement(T.a,{alt:"".concat(a.desc),src:"http://openweathermap.org/img/w/".concat(a.icon,".png")}),r.a.createElement(E.a,{className:t.title,color:"textSecondary",gutterBottom:!0},a.desc),r.a.createElement(E.a,{className:t.pos,color:"textSecondary"},a.tempInF," \u2109 | ",a.tempInC," \u2103"))):r.a.createElement(E.a,{variant:"subtitle1",align:"center"},"Please select city"))},k=Object(w.a)({root:{maxWidth:400,width:"100%",marginTop:20},title:{fontSize:14},pos:{marginBottom:12}});var _={getCityList:function(e){return function(t){p(e).then((function(e){t({type:"LOAD_CITIES",data:e.data})}))}},getCityWeather:function(e){return function(t){t({type:"LOADING"});f(e).then((function(e){t({type:"LOAD_CITY_WEATHER",data:e.data})}))}}},B=Object(l.b)(null,_)((function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(""),c=Object(o.a)(a,2),i=c[0],l=c[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],p=u[1],f=Object(n.useState)(void 0),v=Object(o.a)(f,2),w=v[0],C=v[1],x=F(),N=function(e,t){var a=Object(n.useState)(e),r=Object(o.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[e]),c}(i,500);function W(e){t.current&&!t.current.contains(e.target)&&p(!1)}Object(n.useEffect)((function(){return N&&e.getCityList(i),document.addEventListener("mousedown",W),function(){document.removeEventListener("mousedown",W)}}));return r.a.createElement(d.a,{fixed:!0},r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:12,className:x.alignContentCenter},r.a.createElement(E.a,{variant:"h5",align:"center",gutterBottom:!0},"Weather Report")),r.a.createElement(h.a,{item:!0,container:!0,xs:12,className:x.formWrapper},r.a.createElement(h.a,{item:!0,xs:12,md:6,sm:9,className:x.formWrapper},r.a.createElement(g.a,{component:"form",className:x.searchWrapper,ref:t},r.a.createElement(b.a,{className:x.input,placeholder:"Search City",inputProps:{"aria-label":"search city"},value:i,onChange:function(e){return l(e.target.value)},onFocus:function(){return p(!0)}}),r.a.createElement(y.a,{type:"submit",className:x.iconButton,"aria-label":"search"},r.a.createElement(j.a,null)),m?r.a.createElement(I,{onClick:function(e){C(e),p(!1),l(e.city)}}):null)),r.a.createElement(h.a,{item:!0,xs:12,md:3,sm:3,className:x.formWrapper,style:{justifyContent:"left"}},r.a.createElement(O.a,{variant:"contained",className:x.button,color:"primary",onClick:function(){e.getCityWeather(w._id)},disabled:void 0===w},"Get Weather Report"))),r.a.createElement(h.a,{item:!0,xs:12,className:x.alignContentCenter},r.a.createElement(S,null))))})),F=Object(w.a)((function(e){return{alignContentCenter:{marginTop:30,display:"flex",justifyContent:"center"},formWrapper:{display:"flex",marginTop:10,justifyContent:"center"},searchWrapper:{position:"relative",padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",marginRight:10},input:{marginLeft:e.spacing(1),flex:1,"&.Mui-focused ~ #list-wrapper":{display:"block"}},iconButton:{padding:10},button:{}}})),P=a(24),z={cities:[],weatherReport:null,loading:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CITIES":return Object(P.a)({},e,{loading:!1,cities:t.data});case"LOAD_CITY_WEATHER":return Object(P.a)({},e,{loading:!1,weatherReport:t.data});case"LOADING":return Object(P.a)({},e,{loading:!0});default:return e}},H={WeatherReport:B}.WeatherReport;var U=function(){return r.a.createElement(H,null)},J=a(15),Y=a(48),q=Object(J.c)({weatherData:G}),M=Object(J.e)(q,Object(J.d)(Object(J.a)(Y.a)));a(83);i.a.render(r.a.createElement(l.a,{store:M},r.a.createElement(U,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.963d2067.chunk.js.map