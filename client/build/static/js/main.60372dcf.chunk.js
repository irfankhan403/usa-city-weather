(this["webpackJsonpweather-report"]=this["webpackJsonpweather-report"]||[]).push([[0],{54:function(e,t,a){e.exports=a(84)},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),o=a(19),l=a(14),s=a(43),u={baseURL:""},m=a.n(s).a.create({baseURL:u.baseURL}),p=function(e){return m.get("/api/city?q=".concat(e)).then((function(e){var t=e.data;return Promise.resolve(t)}))},d=function(e){return m.get("/api/weather-report/".concat(e)).then((function(e){var t=e.data;return Promise.resolve(t)}))},f=a(112),E=a(113),h=a(25),g=a(85),b=a(116),O=a(114),y=a(115),v=a(47),j=a.n(v),w=a(108),C=a(106),N=a(118),x=a(107),_=function e(t,a,n){return(t=t[(a=Array.isArray(a)?a:a.split("."))[0]])&&a.length>1?e(t,a.slice(1),n):void 0===t?n:t},I=function(e){var t=W(),a=Object(l.c)((function(e){return _(e,"weatherData.cities",[])})),c=e.onClick;return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{className:t.listWrapper,id:"list-wrapper"},r.a.createElement(C.a,{className:t.root},a.length>0?a.map((function(e){return r.a.createElement(N.a,{key:e._id,button:!0,className:t.listItem,onClick:function(){return c(e)}},r.a.createElement(x.a,{primary:"".concat(e.city,", ").concat(e.state),secondary:e.zipcode}))})):r.a.createElement(N.a,{className:t.listItem},r.a.createElement(x.a,{primary:"No city found"})))))},W=Object(w.a)({root:{width:"100%",zIndex:9},listItem:{},listWrapper:{position:"absolute",top:"55px",maxHeight:"400px",overflow:"auto",width:"100%"}}),L=a(110),R=a(117),T=a(109),D=a(111),S=function(e){var t=A(),a=Object(l.c)((function(e){return _(e,"weatherData.weatherReport",null)}));return Object(l.c)((function(e){return _(e,"weatherData.loading",null)}))?r.a.createElement(T.a,null):r.a.createElement(n.Fragment,null,a?r.a.createElement(L.a,{className:t.root},r.a.createElement(D.a,null,r.a.createElement(h.a,{variant:"h5",component:"h2"},a.city),r.a.createElement(R.a,{alt:"".concat(a.desc),src:"http://openweathermap.org/img/w/".concat(a.icon,".png")}),r.a.createElement(h.a,{className:t.title,color:"textSecondary",gutterBottom:!0},a.desc),r.a.createElement(h.a,{className:t.pos,color:"textSecondary"},a.tempInF," \u2109 | ",a.tempInC," \u2103"))):r.a.createElement(h.a,{variant:"subtitle1",align:"center"},"Please select city"))},A=Object(w.a)({root:{maxWidth:400,width:"100%",marginTop:20},title:{fontSize:14},pos:{marginBottom:12}});var k={getCityList:function(e){return function(t){p(e).then((function(e){t({type:"LOAD_CITIES",data:e.data})}))}},getCityWeather:function(e){return function(t){t({type:"LOADING"});d(e).then((function(e){t({type:"LOAD_CITY_WEATHER",data:e.data})}))}}},B=Object(l.b)(null,k)((function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(""),c=Object(o.a)(a,2),i=c[0],l=c[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)(void 0),v=Object(o.a)(d,2),w=v[0],C=v[1],N=U(),x=function(e,t){var a=Object(n.useState)(e),r=Object(o.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[e]),c}(i,500);function _(e){t.current&&!t.current.contains(e.target)&&p(!1)}Object(n.useEffect)((function(){return x&&e.getCityList(i),document.addEventListener("mousedown",_),function(){document.removeEventListener("mousedown",_)}}));return r.a.createElement(f.a,{fixed:!0},r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0,xs:12,className:N.alignContentCenter},r.a.createElement(h.a,{variant:"h5",align:"center",gutterBottom:!0},"Weather Report")),r.a.createElement(E.a,{item:!0,container:!0,xs:12,className:N.formWrapper},r.a.createElement(E.a,{item:!0,xs:12,md:6,sm:9,className:N.formWrapper},r.a.createElement(g.a,{component:"form",className:N.searchWrapper,ref:t},r.a.createElement(b.a,{className:N.input,placeholder:"Search City",inputProps:{"aria-label":"search city"},value:i,onChange:function(e){return l(e.target.value)},onFocus:function(){return p(!0)}}),r.a.createElement(O.a,{type:"submit",className:N.iconButton,"aria-label":"search"},r.a.createElement(j.a,null)),m?r.a.createElement(I,{onClick:function(e){C(e),p(!1),l(e.city)}}):null)),r.a.createElement(E.a,{item:!0,xs:12,md:3,sm:3,className:N.formWrapper,style:{justifyContent:"left"}},r.a.createElement(y.a,{variant:"contained",className:N.button,color:"primary",onClick:function(){e.getCityWeather(w._id)},disabled:void 0===w},"Get Weather Report"))),r.a.createElement(E.a,{item:!0,xs:12,className:N.alignContentCenter},r.a.createElement(S,null))))})),U=Object(w.a)((function(e){return{alignContentCenter:{marginTop:30,display:"flex",justifyContent:"center"},formWrapper:{display:"flex",marginTop:10,justifyContent:"center"},searchWrapper:{position:"relative",padding:"2px 4px",display:"flex",alignItems:"center",width:"100%",marginRight:10},input:{marginLeft:e.spacing(1),flex:1,"&.Mui-focused ~ #list-wrapper":{display:"block"}},iconButton:{padding:10},button:{}}})),F=a(24),P={cities:[],weatherReport:null,loading:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_CITIES":return Object(F.a)({},e,{loading:!1,cities:t.data});case"LOAD_CITY_WEATHER":return Object(F.a)({},e,{loading:!1,weatherReport:t.data});case"LOADING":return Object(F.a)({},e,{loading:!0});default:return e}},z={WeatherReport:B}.WeatherReport;var G=function(){return r.a.createElement(z,null)},H=a(15),J=a(48),V=Object(H.c)({weatherData:X}),Y=Object(H.e)(V,Object(H.d)(Object(H.a)(J.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a(83);i.a.render(r.a.createElement(l.a,{store:Y},r.a.createElement(G,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.60372dcf.chunk.js.map